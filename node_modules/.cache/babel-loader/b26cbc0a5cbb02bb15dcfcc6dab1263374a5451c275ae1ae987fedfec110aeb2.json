{"ast":null,"code":"import _regeneratorRuntime from\"D:/BaiduNetdiskDownload/React \\u57FA\\u7840 - \\u914D\\u5957\\u8D44\\u6599/React \\u57FA\\u7840 - \\u914D\\u5957\\u8D44\\u6599/React \\u57FA\\u7840 - day09/03-code/react-jike/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/BaiduNetdiskDownload/React \\u57FA\\u7840 - \\u914D\\u5957\\u8D44\\u6599/React \\u57FA\\u7840 - \\u914D\\u5957\\u8D44\\u6599/React \\u57FA\\u7840 - day09/03-code/react-jike/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import'./index.scss';import{Card,Form,Input,Button,message}from'antd';import logo from'@/assets/logo.png';import{useDispatch}from'react-redux';import{fetchLogin}from'@/store/modules/user';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var dispatch=useDispatch();var navigate=useNavigate();var onFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:console.log(values);// 触发异步action fetchLogin\n_context.next=3;return dispatch(fetchLogin(values));case 3:// 1. 跳转到首页\nnavigate('/');// 2. 提示一下用户\nmessage.success('登录成功');case 5:case\"end\":return _context.stop();}},_callee);}));return function onFinish(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"login\",children:/*#__PURE__*/_jsxs(Card,{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"login-logo\",src:logo,alt:\"\"}),/*#__PURE__*/_jsxs(Form,{onFinish:onFinish,validateTrigger:\"onBlur\",children:[/*#__PURE__*/_jsx(Form.Item,{name:\"mobile\"// 多条校验逻辑 先校验第一条 第一条通过之后再校验第二条\n,rules:[{required:true,message:'请输入手机号'},{pattern:/^1[3-9]\\d{9}$/,message:'请输入正确的手机号格式'}],children:/*#__PURE__*/_jsx(Input,{size:\"large\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"code\",rules:[{required:true,message:'请输入验证码'}],children:/*#__PURE__*/_jsx(Input,{size:\"large\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u9A8C\\u8BC1\\u7801\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",size:\"large\",block:true,children:\"\\u767B\\u5F55\"})})]})]})});};export default Login;","map":{"version":3,"names":["Card","Form","Input","Button","message","logo","useDispatch","fetchLogin","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","dispatch","navigate","onFinish","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_callee$","_context","prev","next","console","log","success","stop","_x","apply","arguments","className","children","src","alt","validateTrigger","Item","name","rules","required","pattern","size","placeholder","type","htmlType","block"],"sources":["D:/BaiduNetdiskDownload/React 基础 - 配套资料/React 基础 - 配套资料/React 基础 - day09/03-code/react-jike/src/pages/Login/index.js"],"sourcesContent":["import './index.scss'\nimport { Card, Form, Input, Button, message } from 'antd'\nimport logo from '@/assets/logo.png'\nimport { useDispatch } from 'react-redux'\nimport { fetchLogin } from '@/store/modules/user'\nimport { useNavigate } from 'react-router-dom'\n\nconst Login = () => {\n  const dispatch = useDispatch()\n  const navigate = useNavigate()\n  const onFinish = async (values) => {\n    console.log(values)\n    // 触发异步action fetchLogin\n    await dispatch(fetchLogin(values))\n    // 1. 跳转到首页\n    navigate('/')\n    // 2. 提示一下用户\n    message.success('登录成功')\n  }\n  return (\n    <div className=\"login\">\n      <Card className=\"login-container\">\n        <img className=\"login-logo\" src={logo} alt=\"\" />\n        {/* 登录表单 */}\n        <Form onFinish={onFinish} validateTrigger=\"onBlur\">\n          <Form.Item\n            name=\"mobile\"\n            // 多条校验逻辑 先校验第一条 第一条通过之后再校验第二条\n            rules={[\n              {\n                required: true,\n                message: '请输入手机号',\n              },\n              {\n                pattern: /^1[3-9]\\d{9}$/,\n                message: '请输入正确的手机号格式'\n              }\n            ]}>\n            <Input size=\"large\" placeholder=\"请输入手机号\" />\n          </Form.Item>\n          <Form.Item\n            name=\"code\"\n            rules={[\n              {\n                required: true,\n                message: '请输入验证码',\n              },\n            ]}>\n            <Input size=\"large\" placeholder=\"请输入验证码\" />\n          </Form.Item>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" size=\"large\" block>\n              登录\n            </Button>\n          </Form.Item>\n        </Form>\n      </Card>\n    </div>\n  )\n}\n\nexport default Login"],"mappings":"8fAAA,MAAO,cAAc,CACrB,OAASA,IAAI,CAAEC,IAAI,CAAEC,KAAK,CAAEC,MAAM,CAAEC,OAAO,KAAQ,MAAM,CACzD,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,UAAU,KAAQ,sBAAsB,CACjD,OAASC,WAAW,KAAQ,kBAAkB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9C,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClB,GAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAS,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAQ,QAAQ,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,MAAM,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC5BC,OAAO,CAACC,GAAG,CAACP,MAAM,CAAC,CACnB;AAAAG,QAAA,CAAAE,IAAA,SACM,CAAAb,QAAQ,CAACP,UAAU,CAACe,MAAM,CAAC,CAAC,QAClC;AACAP,QAAQ,CAAC,GAAG,CAAC,CACb;AACAX,OAAO,CAAC0B,OAAO,CAAC,MAAM,CAAC,yBAAAL,QAAA,CAAAM,IAAA,MAAAV,OAAA,GACxB,kBARK,CAAAL,QAAQA,CAAAgB,EAAA,SAAAf,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OAQb,CACD,mBACExB,IAAA,QAAKyB,SAAS,CAAC,OAAO,CAAAC,QAAA,cACpBxB,KAAA,CAACZ,IAAI,EAACmC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC/B1B,IAAA,QAAKyB,SAAS,CAAC,YAAY,CAACE,GAAG,CAAEhC,IAAK,CAACiC,GAAG,CAAC,EAAE,CAAE,CAAC,cAEhD1B,KAAA,CAACX,IAAI,EAACe,QAAQ,CAAEA,QAAS,CAACuB,eAAe,CAAC,QAAQ,CAAAH,QAAA,eAChD1B,IAAA,CAACT,IAAI,CAACuC,IAAI,EACRC,IAAI,CAAC,QACL;AAAA,CACAC,KAAK,CAAE,CACL,CACEC,QAAQ,CAAE,IAAI,CACdvC,OAAO,CAAE,QACX,CAAC,CACD,CACEwC,OAAO,CAAE,eAAe,CACxBxC,OAAO,CAAE,aACX,CAAC,CACD,CAAAgC,QAAA,cACF1B,IAAA,CAACR,KAAK,EAAC2C,IAAI,CAAC,OAAO,CAACC,WAAW,CAAC,sCAAQ,CAAE,CAAC,CAClC,CAAC,cACZpC,IAAA,CAACT,IAAI,CAACuC,IAAI,EACRC,IAAI,CAAC,MAAM,CACXC,KAAK,CAAE,CACL,CACEC,QAAQ,CAAE,IAAI,CACdvC,OAAO,CAAE,QACX,CAAC,CACD,CAAAgC,QAAA,cACF1B,IAAA,CAACR,KAAK,EAAC2C,IAAI,CAAC,OAAO,CAACC,WAAW,CAAC,sCAAQ,CAAE,CAAC,CAClC,CAAC,cACZpC,IAAA,CAACT,IAAI,CAACuC,IAAI,EAAAJ,QAAA,cACR1B,IAAA,CAACP,MAAM,EAAC4C,IAAI,CAAC,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAACH,IAAI,CAAC,OAAO,CAACI,KAAK,MAAAb,QAAA,CAAC,cAE5D,CAAQ,CAAC,CACA,CAAC,EACR,CAAC,EACH,CAAC,CACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}