{"ast":null,"code":"var _jsxFileName = \"D:\\\\BaiduNetdiskDownload\\\\React \\u57FA\\u7840 - \\u914D\\u5957\\u8D44\\u6599\\\\React \\u57FA\\u7840 - \\u914D\\u5957\\u8D44\\u6599\\\\React \\u57FA\\u7840 - day09\\\\03-code\\\\react-jike\\\\src\\\\pages\\\\Layout\\\\index.js\",\n  _s = $RefreshSig$();\nimport { Layout, Menu, Popconfirm } from 'antd';\nimport { HomeOutlined, DiffOutlined, EditOutlined, LogoutOutlined } from '@ant-design/icons';\nimport './index.scss';\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchUserInfo, clearUserInfo } from '@/store/modules/user';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Sider\n} = Layout;\nconst items = [{\n  label: '首页',\n  key: '/',\n  icon: /*#__PURE__*/_jsxDEV(HomeOutlined, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 11\n  }, this)\n}, {\n  label: '文章管理',\n  key: '/article',\n  icon: /*#__PURE__*/_jsxDEV(DiffOutlined, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 11\n  }, this)\n}, {\n  label: '创建文章',\n  key: '/publish',\n  icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 11\n  }, this)\n}];\nconst GeekLayout = () => {\n  _s();\n  const navigate = useNavigate();\n  const onMenuClick = route => {\n    console.log('菜单被点击了', route);\n    const path = route.key;\n    navigate(path);\n  };\n\n  // 反向高亮\n  // 1. 获取当前路由路径\n  const location = useLocation();\n  console.log(location.pathname);\n  const selectedkey = location.pathname;\n\n  // 触发个人用户信息action\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(fetchUserInfo());\n  }, [dispatch]);\n\n  // 退出登录确认回调\n  const onConfirm = () => {\n    console.log('确认退出');\n    dispatch(clearUserInfo());\n    navigate('/login');\n  };\n  const name = useSelector(state => state.user.userInfo.name);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"user-name\",\n          children: name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"user-logout\",\n          children: /*#__PURE__*/_jsxDEV(Popconfirm, {\n            title: \"\\u662F\\u5426\\u786E\\u8BA4\\u9000\\u51FA\\uFF1F\",\n            okText: \"\\u9000\\u51FA\",\n            cancelText: \"\\u53D6\\u6D88\",\n            onConfirm: onConfirm,\n            children: [/*#__PURE__*/_jsxDEV(LogoutOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), \" \\u9000\\u51FA\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(Sider, {\n        width: 200,\n        className: \"site-layout-background\",\n        children: /*#__PURE__*/_jsxDEV(Menu, {\n          mode: \"inline\",\n          theme: \"dark\",\n          selectedKeys: selectedkey,\n          onClick: onMenuClick,\n          items: items,\n          style: {\n            height: '100%',\n            borderRight: 0\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Layout, {\n        className: \"layout-content\",\n        style: {\n          padding: 20\n        },\n        children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(GeekLayout, \"v+AyVbud7FbqBOsSTRDBoMgob9I=\", false, function () {\n  return [useNavigate, useLocation, useDispatch, useSelector];\n});\n_c = GeekLayout;\nexport default GeekLayout;\nvar _c;\n$RefreshReg$(_c, \"GeekLayout\");","map":{"version":3,"names":["Layout","Menu","Popconfirm","HomeOutlined","DiffOutlined","EditOutlined","LogoutOutlined","Outlet","useLocation","useNavigate","useEffect","useDispatch","useSelector","fetchUserInfo","clearUserInfo","jsxDEV","_jsxDEV","Header","Sider","items","label","key","icon","fileName","_jsxFileName","lineNumber","columnNumber","GeekLayout","_s","navigate","onMenuClick","route","console","log","path","location","pathname","selectedkey","dispatch","onConfirm","name","state","user","userInfo","children","className","title","okText","cancelText","width","mode","theme","selectedKeys","onClick","style","height","borderRight","padding","_c","$RefreshReg$"],"sources":["D:/BaiduNetdiskDownload/React 基础 - 配套资料/React 基础 - 配套资料/React 基础 - day09/03-code/react-jike/src/pages/Layout/index.js"],"sourcesContent":["import { Layout, Menu, Popconfirm } from 'antd'\nimport {\n  HomeOutlined,\n  DiffOutlined,\n  EditOutlined,\n  LogoutOutlined,\n} from '@ant-design/icons'\nimport './index.scss'\nimport { Outlet, useLocation, useNavigate } from 'react-router-dom'\nimport { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { fetchUserInfo, clearUserInfo } from '@/store/modules/user'\n\nconst { Header, Sider } = Layout\n\nconst items = [\n  {\n    label: '首页',\n    key: '/',\n    icon: <HomeOutlined />,\n  },\n  {\n    label: '文章管理',\n    key: '/article',\n    icon: <DiffOutlined />,\n  },\n  {\n    label: '创建文章',\n    key: '/publish',\n    icon: <EditOutlined />,\n  },\n]\n\nconst GeekLayout = () => {\n  const navigate = useNavigate()\n  const onMenuClick = (route) => {\n    console.log('菜单被点击了', route)\n    const path = route.key\n    navigate(path)\n  }\n\n  // 反向高亮\n  // 1. 获取当前路由路径\n  const location = useLocation()\n  console.log(location.pathname)\n  const selectedkey = location.pathname\n\n  // 触发个人用户信息action\n  const dispatch = useDispatch()\n  useEffect(() => {\n    dispatch(fetchUserInfo())\n  }, [dispatch])\n\n  // 退出登录确认回调\n  const onConfirm = () => {\n    console.log('确认退出')\n    dispatch(clearUserInfo())\n    navigate('/login')\n  }\n\n  const name = useSelector(state => state.user.userInfo.name)\n  return (\n    <Layout>\n      <Header className=\"header\">\n        <div className=\"logo\" />\n        <div className=\"user-info\">\n          <span className=\"user-name\">{name}</span>\n          <span className=\"user-logout\">\n            <Popconfirm title=\"是否确认退出？\" okText=\"退出\" cancelText=\"取消\" onConfirm={onConfirm}>\n              <LogoutOutlined /> 退出\n            </Popconfirm>\n          </span>\n        </div>\n      </Header>\n      <Layout>\n        <Sider width={200} className=\"site-layout-background\">\n          <Menu\n            mode=\"inline\"\n            theme=\"dark\"\n            selectedKeys={selectedkey}\n            onClick={onMenuClick}\n            items={items}\n            style={{ height: '100%', borderRight: 0 }}></Menu>\n        </Sider>\n        <Layout className=\"layout-content\" style={{ padding: 20 }}>\n          {/* 二级路由的出口 */}\n          <Outlet />\n        </Layout>\n      </Layout>\n    </Layout>\n  )\n}\nexport default GeekLayout"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}